<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Tudor Popescu\Desktop\I.NET\Project\VetExpert\VetExpert\VetExpert.IntegrationTesting\DbSeeding.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using VetExpert.Domain;
using VetExpert.Infrastructure;

namespace VetExpert.IntegrationTesting
{
    public class DbSeeding
    {
        public static List&lt;Clinic&gt; clinics= new List&lt;Clinic&gt;();
        public static List&lt;User&gt; users = new List&lt;User&gt;();
        public static List&lt;Pet&gt; pets = new List&lt;Pet&gt;();
        public static List&lt;Appointment&gt; appointments = new List&lt;Appointment&gt;();
        public static List&lt;Doctor&gt; doctors = new List&lt;Doctor&gt;();
        public static List&lt;Specialization&gt; specializations = new List&lt;Specialization&gt;();

        public static void InitializeDbForTests(MainDbContext db)
        {
            
            //usrs
            users = GetSeedingUsers();
            db.Users.AddRange(users);
            //clinics

            //pets
            pets = GetSeedingPets();
            db.Pets.AddRange(pets);
            
            //clinics
            clinics=GetSeedingClinics();
            db.Clinics.AddRange(clinics);

            //doctors
            doctors = GetSeedingDoctors();
            db.Doctors.AddRange(doctors);

            //
            //appointments
            appointments = GetSeedingAppointments();
            db.Appointments.AddRange(appointments);

            //promotions
            db.Promotions.AddRange(GetSeedingPromotions());

            specializations = GetSeedingSpecialization();
            db.Specializations.AddRange(specializations);
            db.SaveChanges();

        
            
        }

        public static void ReinitializeDbForTests(MainDbContext db)
        {
            db.Drugs.RemoveRange(db.Drugs);
            db.DrugStocks.RemoveRange(db.DrugStocks);
            db.Specializations.RemoveRange(db.Specializations);
            db.Users.RemoveRange(db.Users);
            db.Pets.RemoveRange(db.Pets);
            db.Promotions.RemoveRange(db.Promotions);
            db.Clinics.RemoveRange(db.Clinics);
            db.Appointments.RemoveRange(db.Appointments);
            db.Doctors.RemoveRange(db.Doctors);

            InitializeDbForTests(db);
        }

        public static List&lt;Promotion&gt; GetSeedingPromotions()
        {
            return new List&lt;Promotion&gt;()
           {
                new Promotion
                {
                    Name=&quot;prom1&quot;,
                    Description = &quot;prom des&quot;,
                    Clinic = clinics[0],
                    ClinicId= clinics[0].Id
                }
            
            };
        }


        public static List&lt;Doctor&gt; GetSeedingDoctors()
        {
            List&lt;Doctor&gt; doctorList = new List&lt;Doctor&gt;  {
                new Doctor
                {
                   Clinic= clinics[0],
                   ClinicId= clinics[0].Id,
                   LastName= &quot;lname&quot;,
                   FirstName = &quot;fname&quot;,
                   Email = &quot;email&quot;
                }
            };
            return doctorList;
        }


        public static List&lt;Clinic&gt; GetSeedingClinics()
        {
            List&lt;Clinic&gt; clinicsList= new List&lt;Clinic&gt;  {
                new Clinic
                {
                   Address=&quot;ADD&quot;,
                   Email = &quot;email&quot;,
                   Name= &quot;name&quot;,
                   WebsiteUrl= &quot;url&quot;
                }
            };
            return clinicsList;
        }


        public static List&lt;User&gt; GetSeedingUsers()
        {
            List&lt;User&gt; userList = new List&lt;User&gt;  {
                new User
                {
                   Address=&quot;ADD&quot;,
                   Email = &quot;email&quot;,
                   Name= &quot;name&quot;,
                  PhoneNumber= &quot;000&quot;
                }
            };
            return userList;
        }


        public static List&lt;Pet&gt; GetSeedingPets()
        {
            List&lt;Pet&gt; userList = new List&lt;Pet&gt;  {
                new Pet
                {
                  DateOfVaccine= DateTime.Now,  
                  Age= 1,
                  IsVaccinated= true,
                  Name= &quot;name&quot;, 
                  TypeOfPet =&quot; catel&quot;,
                  User= users[0],
                  UserId= users[0].Id,
                  Weight= 1
                  
                }
            };
            return userList;
        }

        public static List&lt;Appointment&gt; GetSeedingAppointments()
        {
            List&lt;Appointment&gt; appointmentsList = new List&lt;Appointment&gt;  {
                new Appointment
                {
                  DateTime = DateTime.Now,
                  Doctor= doctors[0],
                  Pet =pets[0],
                  DoctorId = doctors[0].Id,
                  PetId = pets[0].Id

                }
            };
            return appointmentsList;
        }


        public static List&lt;Specialization&gt; GetSeedingSpecialization()
        {
            List&lt;Specialization&gt; specializationList = new List&lt;Specialization&gt;()
           {
                new Specialization
                {
                    Description =&quot;&amp;&amp;&quot;,
                    Name = &quot;^^&quot;
                }

            };
            return specializationList;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[13,9,13,64,1],[14,9,14,59,1],[15,9,15,56,1],[16,9,16,80,1],[17,9,17,65,1],[18,9,18,89,1],[21,9,21,10,1],[24,13,24,39,1],[25,13,25,38,1],[29,13,29,37,1],[30,13,30,36,1],[33,13,33,41,1],[34,13,34,42,1],[37,13,37,43,1],[38,13,38,42,1],[42,13,42,53,1],[43,13,43,52,1],[46,13,46,60,1],[48,13,48,58,1],[49,13,49,58,1],[50,13,50,30,1],[54,9,54,10,1],[57,9,57,10,1],[58,13,58,44,1],[59,13,59,54,1],[60,13,60,64,1],[61,13,61,44,1],[62,13,62,42,1],[63,13,63,54,1],[64,13,64,48,1],[65,13,65,58,1],[66,13,66,48,1],[68,13,68,38,1],[69,9,69,10,1],[72,9,72,10,1],[73,13,83,15,1],[84,9,84,10,1],[88,9,88,10,1],[89,13,98,15,1],[99,13,99,31,1],[100,9,100,10,1],[104,9,104,10,1],[105,13,113,15,1],[114,13,114,32,1],[115,9,115,10,1],[119,9,119,10,1],[120,13,128,15,1],[129,13,129,29,1],[130,9,130,10,1],[134,9,134,10,1],[135,13,148,15,1],[149,13,149,29,1],[150,9,150,10,1],[153,9,153,10,1],[154,13,164,15,1],[165,13,165,37,1],[166,9,166,10,1],[170,9,170,10,1],[171,13,179,15,1],[180,13,180,39,1],[181,9,181,10,1]]);
    </script>
  </body>
</html>